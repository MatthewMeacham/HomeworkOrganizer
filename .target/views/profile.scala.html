@(student: Student, schoolClasses: List[SchoolClass], assignments: List[Assignment], finishedAssignments: List[Assignment], lateAssignments: List[Assignment], teachers: List[Teacher], notes: List[Note],today: Integer, startingBlock: String, errorMessage: String)

@import helper._
@import models._
@import play.api.data.Forms._
@import util.control.Breaks._

<!DOCTYPE html>
<html>

	<head>
		<title>Orgnizr |  @student.name's Profile</title>
		
		<!-- STYLESHEETS -->
		<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/animate.css")">
		<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/font.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/profile.css")">
		
		<!-- DEPENDENCIES -->
		<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- META TAGS (FOR BROWSER INDEXING) -->
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Welcome to your profile, here you can track your homework and it's progress!">
        <meta name="keywords" content="Orgnizr, organizer, homework, project, high, school, test, quiz">

        <!-- OG TAGS (FOR FACEBOOK | G+ | TWITTER LINKS) -->
        <meta property="og:title" content="Orgnizr" />
        <meta property="og:type"   content="website" />
        <meta property="og:image" content="@routes.Assets.at("images/og-logo.png")" />
        <meta property="og:description" content="Welcome to your profile, here you can track your homework and it's progress!" />
        <meta property="og:locale" content="en_US" />


        <!-- APPLE ICONS (FOR APPLE DEVICES) -->
        <link rel="apple-touch-icon" href="@routes.Assets.at("images/touch-icon-iphone.png")">
        <link rel="apple-touch-icon" sizes="76x76" href="@routes.Assets.at("images/touch-icon-ipad.png")">
        <link rel="apple-touch-icon" sizes="120x120" href="@routes.Assets.at("images/touch-icon-iphone-retina.png")">
        <link rel="apple-touch-icon" sizes="152x152" href="@routes.Assets.at("images/touch-icon-ipad-retina.png")">

        <!-- BROWSER ICON -->
        <link rel="icon" type="image/png" href="@routes.Assets.at("images/favicon.png")" sizes="32x32">

        <!-- SCRIPTS -->
        <script src="@routes.Assets.at("./javascripts/jquery-1.9.0.min.js")" type="text/javascript"></script>
        <script>
			$(function() {
				var pull 		= $('#pull');
					menu 		= $('nav ul');
					menuHeight	= menu.height();

				$(pull).on('click', function(e) {
					e.preventDefault();
					menu.slideToggle();
				});

				$(window).resize(function(){
		    		var w = $(window).width();
		    		if(w > 320 && menu.is(':hidden')) {
		    			menu.removeAttr('style');
		    		}
				});
			});
        </script>
	    <script>
			function submitAssignmentDeleteForm(id) {
				document.getElementById('assignmentDeleteForm' + id).submit();
			}
		</script>
		<script>
			function submitAssignmentEditForm(id) {
				document.getElementById('assignmentEditForm' + id).submit();
			}
		</script>
		<script>
			function submitFinishedAssignmentForm(id) {
				document.getElementById('assignmentFinishedForm' + id).submit();
			}
		</script>
		<script>
			function combine(id, category) {
				console.log("year" + category);
				var element = document.getElementById(id);
				var year = document.getElementById('year' + category).options[document.getElementById('year' + category).selectedIndex].value;
				var month = document.getElementById('month' + category).options[document.getElementById('month' + category).selectedIndex].value;
				var day = document.getElementById('days' + category).options[document.getElementById('days' + category).selectedIndex].value;
				console.log(year + "-" + month + "-" + day);
				element.value = year + "-" + month + "-" + day;
			}
		</script>
		
		<script>
				function removeOptions(selectbox) {
					var i;
					for(i=selectbox.options.length-1;i>=0;i--) {
						selectbox.remove(i);
					}
				}
				
				function changeDaysLeapYear(year, category) {
					if(document.getElementById('month' + category).options[document.getElementById('month' + category).selectedIndex].value == 02) {
						removeOptions(document.getElementById('days' + category));
						if(Number(document.getElementById('year' + category).options[document.getElementById('year' + category).selectedIndex].value) % 4 == 0) {
							for(i = 1; i < 30; i++) {
									var option = document.createElement("option");
									option.text = i;
									if(i < 10) {
										i = "0" + i;
									}
									option.value = i;
									document.getElementById('days' + category).add(option);
								}
						} else {
							for(i = 1; i < 29; i++) {
								var option = document.createElement("option");
								option.text = i;
								if(i < 10) {
									i = "0" + i;
								}
								option.value = i;
								document.getElementById('days' + category).add(option);
							}
						}
					}
				}
	
				function changeDays(month, category) {
					var sel = document.getElementById('days' + category);
					removeOptions(sel);
					var opts = sel.options;
					switch(month) {
						case 'January':
						case 'March':
						case 'May':
						case 'July':
						case 'August':
						case 'October':
						case 'December':
							for(i = 1; i < 32; i++) {
								var option = document.createElement("option");
								option.text = i;
								if(i < 10) {
									i = "0" + i;
								}
								option.value = i;
								sel.add(option);
							}
						break;
						case 'April':
						case 'June':
						case 'September':
						case 'November':
							for(i = 1; i < 31; i++) {
								var option = document.createElement("option");
								option.text = i;
								if(i < 10) {
									i = "0" + i;
								}
								option.value = i;
								sel.add(option);
							}
						break;
						case 'February':
							var years = document.getElementById('year' + category);
							var yearOptions = years.options;
							if(Number(yearOptions[years.selectedIndex].text) % 4 == 0) {
								for(i = 1; i < 30; i++) {
									var option = document.createElement("option");
									option.text = i;
									if(i < 10) {
										i = "0" + i;
									}
									option.value = i;
									sel.add(option);
								}
							} else {
								for(i = 1; i < 29; i++) {
									var option = document.createElement("option");
									option.text = i;
									if(i < 10) {
										i = "0" + i;
									}
									option.value = i;
									sel.add(option);
								}
							}
							
							
						break;
					}
				}
			</script>
		<!-- END SCRIPTS -->
	</head>
	<body>
		<div id="topSection">
			<div class="topImage">
				<img src=@routes.Assets.at("images/logo.png") alt="Orgnizr">
			</div>
			
			<script>
				function toggle_visibility(id) {
					var e = document.getElementById(id);
					document.getElementById('overview').style.display = 'none';		
					document.getElementById('classes').style.display = 'none';
					document.getElementById('addAssignment').style.display = 'none';
					document.getElementById('lateAssignments').style.display = 'none';
					document.getElementById('finishedAssignments').style.display = 'none';
					document.getElementById('accountSettings').style.display = 'none';
					document.getElementById('errorMessageText').innerHTML = "";
					e.style.display = 'block';
				}
			</script>

			<div class="topNav">
				<nav class="clearfix" id="top">
					<ul class="clearfix">
						<li><a href="#" onclick="toggle_visibility('overview')"><div id="overviewToggle" style="display: inline-block;">Overview</div></a></li>
						<li><a href="#" onclick="toggle_visibility('classes')"><div id="classesToggle" style="display: inline-block;">Classes</div></a></li>
						<li><a href="#" onclick="toggle_visibility('addAssignment')"><div id="addAssignmentToggle" style="display: inline-block;">Add Assignment</div></a></li>
						<li><a href="#" onclick="toggle_visibility('lateAssignments')"><div id="lateAssingmentsToggle" style="display: inline-block;">Late Assignments </div></a></li>
						<li><a href="#" onclick="toggle_visibility('finishedAssignments')"><div id="finishedAssignmentsToggle" style="display: inline-block;">Finished Assignments</div></a></li>
						<div id="browser">
							<li>|</li>
						</div>
						<div id="mobile">
							<li><hr/></li>
						</div>
						@if(!Application.childAccount(String.valueOf(student.id))) {
							<li id="afterNav"><a href="#" onclick="toggle_visibility('accountSettings')"><div id="accountSettingsToggle" style="display: inline-block;">@student.name</div></a></li>
						} else {
							<li id="afterNav"><a href="#"><div id="accountSettingsToggle" style="display: inline-block;">@student.name</div></a></li>
						}
						<li id="afterNav"><a href="@routes.Application.logout()">Log Out</a></li>
					</ul>
					<a href="#" id="pull"></a>
				</nav>
			</div>
		</div>
	
		<!-- ENWRAPS ALL CONTENT -->
		<div class="contentContainer">
			<div id="main">
				
				<h1 id="errorMessageText" style="color:red; text-align:center;"> @errorMessage</h1>
				
				<!-- BEGIN OVERVIEW -->
				<div id="overview" class="overview" style="@if(startingBlock == "overview") {display: block;} else {display: none}">
					<div class="area center" style=" width: 100vw; margin-left: -10px; margin-right: 10px;">
						<h2 style="text-align: center;">Overview</h2>
						@if(assignments.length > 0) {
							@for(assignment <- assignments) {
								<div class="itemBigContainer">
									@if(assignment.total > today + 5) {
									<div class="green">
									} else {
										@if(assignment.total <= today + 5 && assignment.total > today + 1){
										<div class="yellow">
										} else {
										<div class="red">
										}
									}
										<span class="alertBig">
											@assignment.spanner
										</span>
										<div class="contentInside">
											@form(action = routes.Application.deleteAssignment(String.valueOf(assignment.id), String.valueOf(assignment.schoolClass.student.id)), 'id -> ("assignmentDeleteForm" + String.valueOf(assignment.id))) {
												<a href="#" onclick="submitAssignmentDeleteForm(@assignment.id); return false;">
													<i class="fa fa-trash myIcon"></i>
												</a>
											}
		
											@form(action = routes.Application.editPageAssignment(String.valueOf(assignment.id), String.valueOf(assignment.schoolClass.student.id)), 'id -> ("assignmentEditForm" + String.valueOf(assignment.id))) {
												<a href="#" onclick="submitAssignmentEditForm(@assignment.id); return false;">
													<i class="fa fa-pencil myIcon"></i>
												</a>
											}
											@form(action = routes.Application.finishedAssignment(String.valueOf(assignment.id), String.valueOf(assignment.schoolClass.student.id)), 'id -> ("assignmentFinishedForm" + String.valueOf(assignment.id))) {
												<a href="#" onclick="submitFinishedAssignmentForm(@assignment.id); return false">
													<i class="fa fa-check myIcon"></i>
												</a>
											}
											<p class="itemHeaderBig">@assignment.schoolClass.subject</p>
											<p class="itemDueDateBig"> @assignment.dueDate</p>
											<p class="itemDescBig"> @assignment.description </p>
										</div>
									</div>
								</div>
							}
						} else {
							<div style="text-align: center;">
								<h3> You don't have any assignments yet. Once you add some, they will all appear here. </h3>
							</div>
						}
					</div>
				</div>
				<!-- END OVERVIEW -->
			
			
				<!-- BEGIN CLASSES -->
				<div id="classes"  style=@if(startingBlock == "schoolClasses") {"display: block;"} else {"display: none"}>
					<div class="container center">
						<div class="enrolledInner">
							<div class="Header"><h2>Classes you're enrolled in</h2></div>
							@if(schoolClasses.length <= 0) {
								<div class="notEnContainer">
									<span class="alert">!</span>
									<div class="notEnInner">
										<h3 class="notEn">You're not enrolled in any classes</h3>
									</div>
								</div>
							} else {	
								<div style="margin-left: auto; margin-right: auto;">
									@for(schoolClass <- schoolClasses) {
										<br><p style="font-size: 20px; margin-bottom: -15px; margin-top: -15px;"> @schoolClass.subject </p><br> 
									}
								</div>
							}
							@form(action = routes.Application.newSchoolClass(String.valueOf(student.id))) {
								<input type="hidden" name="studentId" value="@student.id">
								<br><input type="text" name="subject" placeholder="New Class" required><br>
								<button type="submit" value="Add Class">Add Class</button>
							}
						</div>
					</div>
				</div>
				<!-- END CLASSES -->
				
				
				<!-- BEGIN ADD ASSIGNMENT -->
				<div id="addAssignment" style=@if(startingBlock == "addAssignment") {"display: block;"} else {"display: none"}>
					<div class="container center">
						<div class="inner">
							<div class="Header"><h2>Add Assignment</h2></div>
							@form(action = routes.Application.newAssignment(String.valueOf(student.id))) {
								@if(schoolClasses.length <= 0) {
									<div class="notEnContainer">
										<span class="alert">!</span>
										<div class="notEnInner">
											<h3 class="notEn">You need to enroll in a class first!</h3>
										</div>
									</div>
								} else {
									<div class="center Header"><h2>Due Date:</h2></div>								
									<select id="monthassignment">
										<option value="01" onclick="changeDays('January', 'assignment')"> January </option>
										<option value="02" onclick="changeDays('February', 'assignment')"> February </option>
										<option value="03" onclick="changeDays('March', 'assignment')"> March </option>
										<option value="04" onclick="changeDays('April', 'assignment')"> April </option>
										<option value="05" onclick="changeDays('May', 'assignment')"> May </option>
										<option value="06" onclick="changeDays('June', 'assignment')"> June </option>
										<option value="07" onclick="changeDays('July', 'assignment')"> July </option>
										<option value="08" onclick="changeDays('August', 'assignment')"> August </option>
										<option value="09" onclick="changeDays('September', 'assignment')"> September </option>
										<option value="10" onclick="changeDays('October', 'assignment')"> October </option>
										<option value="11" onclick="changeDays('November', 'assignment')"> November </option>
										<option value="12" onclick="changeDays('December', 'assignment')"> December </option>
									</select>
									<select id="daysassignment">
										<option value="01"> 1 </option>
										<option value="02"> 2 </option>
										<option value="03"> 3 </option>
										<option value="04"> 4 </option>
										<option value="05"> 5 </option>
										<option value="06"> 6 </option>
										<option value="07"> 7 </option>
										<option value="08"> 8 </option>
										<option value="09"> 9 </option>
										<option value="10"> 10 </option>
										<option value="11"> 11 </option>
										<option value="12"> 12 </option>
										<option value="13"> 13 </option>
										<option value="14"> 14 </option>
										<option value="15"> 15 </option>
										<option value="16"> 16 </option>
										<option value="17"> 17 </option>
										<option value="18"> 18 </option>
										<option value="19"> 19 </option>
										<option value="20"> 20 </option>
										<option value="21"> 21 </option>
										<option value="22"> 22 </option>
										<option value="23"> 23 </option>
										<option value="24"> 24 </option>
										<option value="25"> 25 </option>
										<option value="26"> 26 </option>
										<option value="27"> 27 </option>
										<option value="28"> 28 </option>
										<option value="29"> 29 </option>
										<option value="30"> 30 </option>
										<option value="31"> 31 </option>
									</select>
									<select id="yearassignment">
										<option value="2015" onclick="changeDaysLeapYear('2015', 'assignment')"> 2015 </option>
										<option value="2016" onclick="changeDaysLeapYear('2016', 'assignment')"> 2016 </option>
										<option value="2017" onclick="changeDaysLeapYear('2017', 'assignment')"> 2017 </option>
										<option value="2018" onclick="changeDaysLeapYear('2018', 'assignment')"> 2018 </option>
									</select>
									
									<div class="center Header"><h2>Class:</h2></div>
									<div class="center">
										<select name="schoolClassId" required>
											@for(schoolClass <- schoolClasses) {
												<option value=@Long.toString(schoolClass.id)> @schoolClass.subject </option>
											}
										</select>
										<div class="spacer"></div>
										<select name="kindOfAssignment" required>
											@for(anOption <- Application.options) {
												<option value="@anOption"> @anOption </option>
											}
										</select>
										<div class="spacer"></div>
										<input type="text" name="description" placeholder="Description">
										<div class="spacer"></div>
										<button type="submit" onclick="combine('assignmentDueDate', 'assignment')" value="Add Assignment">Add Assignment</button>
										<div style="position: relative; left: -1600px;"><input type="date" id="assignmentDueDate" name="dueDate" placeholder="Due Date"></div>
									</div>
								}
							}
						</div>
					</div>
				</div>
				<!-- END ADD ASSIGNMENT -->
				
				
				<!-- BEGIN LATE ASSIGNMENTS -->
				<div id="lateAssignments" style=@if(startingBlock == "lateAssignments") {"display: block;"} else {"display: none"}>
					<div class="area center">
						<h2 style="text-align: center;">Late Assignments</h2>
						@if(lateAssignments.length > 0) {
							<div class="innerContentMain">
								@for(lateAssignment <- lateAssignments) {
									<div class="itemBigContainer">
										<div class="itemBig">
											<span class="alertBig">
												@lateAssignment.spanner
											</span>
											<div class="contentInside">
												@form(action = routes.Application.deleteAssignment(String.valueOf(lateAssignment.id), String.valueOf(lateAssignment.schoolClass.student.id)), 'id -> ("assignmentDeleteForm" + String.valueOf(lateAssignment.id))) {
													<a href="#" onclick="submitAssignmentDeleteForm(@lateAssignment.id); return false;">
														<i class="fa fa-trash myIcon"></i>
													</a>
												}
			
												@form(action = routes.Application.editPageAssignment(String.valueOf(lateAssignment.id), String.valueOf(lateAssignment.schoolClass.student.id)), 'id -> ("assignmentEditForm" + String.valueOf(lateAssignment.id))) {
													<a href="#" onclick="submitAssignmentEditForm(@lateAssignment.id); return false;">
														<i class="fa fa-pencil myIcon"></i>
													</a>
												}
												@form(action = routes.Application.finishedAssignment(String.valueOf(lateAssignment.id), String.valueOf(lateAssignment.schoolClass.student.id)), 'id -> ("assignmentFinishedForm" + String.valueOf(lateAssignment.id))) {
													<a href="#" onclick="submitFinishedAssignmentForm(@lateAssignment.id); return false">
														<i class="fa fa-check myIcon"></i>
													</a>
												}
												<h2 class="itemHeaderBig">@lateAssignment.schoolClass.subject</h2>
												<h3 class="itemDueDateBig"> @lateAssignment.dueDate</h3>
												<p class="itemDescBig"> @lateAssignment.description </p>
											</div>
										</div>
									</div>
								}
							</div>
						} else {
							<div align="center" style="text-align: center;">
								<h3> If an assignment is not completed and it is overdue, it will appear here. </h3>
							</div>
						}
					</div>
				</div>
				<!-- END LATE ASSIGNMENTS -->
				
				<!-- BEGIN FINISHED ASSIGNMENTS -->
				<div id="finishedAssignments" style=@if(startingBlock == "finishedAssignments") {"display: block;"} else {"display: none"}>
					<div class="area center">
						<h2 style="text-align: center;">Finished Assignments</h2>
						@if(finishedAssignments.length > 0) {
							<div class="innerContentMain">
								@for(finishedAssignment <- finishedAssignments) {
									<div class="itemBigContainer">
										<div class="itemBig">
											<span class="alertBig">
												@finishedAssignment.spanner
											</span>
											<div class="contentInside">
												<h2 class="itemHeaderBig">@finishedAssignment.schoolClass.subject</h2>
												<h3 class="itemDueDateBig"> @finishedAssignment.dueDate</h3>
												<p class="itemDescBig"> @finishedAssignment.description </p>
											</div>
										</div>
									</div>
								}
							</div>
						} else {
							<div align="center" style="text-align: center;">
								<h3> Once an assignment is finished, it will appear here. </h3>
							</div>
						}
					</div>
				</div>
				<!-- END FINISHED ASSIGNMENTS -->
				
				<!-- BEGIN ACCOUNT SETTINGS -->
				<div id="accountSettings" style=@if(startingBlock == "accountSettings") {"display: block;"} else {"display: none"}>
					<div class="area center">
						<h1 style="text-align: center;"> Account Settings </h1>
						@form(action = routes.Application.changeAccountSettings(String.valueOf(student.id))) {
								<div class="changeSettings section group">
									<div class="col span_1_of_4">
										<label>Change Email</label> <br>
										<input type="text" name="email" value="@student.email">
									</div>
									<div class="col span_1_of_4">
										<label>Change Password</label> <br>
										<input type="password" name="currentPassword" placeholder="Enter Current Password">
										<input type="password" name="newPassword" placeholder="Enter New Password">
										<input type="password" name="newPasswordAgain" placeholder="Enter New Password Again">
										
									</div>
									<div class="col span_1_of_4">
										<label>Change Name</label> <br>
										<input type="text" name="name" value="@student.name">
									</div>
									<div class="col span_1_of_4">
										<label>Change Grade</label> <br>
										<input type="number" name="grade" min="1" max="16" value="@student.grade">
									</div>	
									
										
									
								</div>
								<br><br><br><br><br>
								<div class="btn">
									<button class="saveChanges"> Save Changes </button>
								</div>
							}
					</div>
				</div>
				
				
				<!-- END ACCOUNT SETTINGS -->
					
			</div>
		</div>
	</body>
</html>